---
// Results.astro - Benchmark outcomes and ablations for DISC
const benchmarkCards = [
  {
    dataset: 'APPS (competition)',
    metric: 'pass@10 error ↓',
    detail: 'Down from 0.50 to 0.475 with a fixed 1.5k token budget.',
    highlight: '5.0% relative reduction versus the strongest static decomposition.'
  },
  {
    dataset: 'MATH500',
    metric: 'pass@10 error ↓',
    detail: 'Drops from 0.15 to 0.14 using a verifier-trained outcome reward model.',
    highlight: '6.7% relative reduction with fewer sampled continuations.'
  },
  {
    dataset: 'LiveCodeBench',
    metric: 'pass@10 error ↓',
    detail: 'Falls from 0.57 to 0.51 despite strict sandboxed unit tests.',
    highlight: '10.5% relative reduction on freshly collected problems.'
  }
];

const generalityCards = [
  {
    dataset: 'Deepseek-R1',
    metric: 'pass@10 accuracy ↑',
    detail: 'Accuracy lifts by over 85% with only ten sampled reasoning traces.',
    highlight: 'Maintains a 33% relative improvement when matched to the base model token budget.'
  },
  {
    dataset: 'LLaMA-3.1-8B',
    metric: 'pass@10 accuracy ↑',
    detail: 'pass@10 rate jumps from 0.01 to 0.04 on APPS coding problems.',
    highlight: '4x gain (300% relative increase) within the same low sampling budget.'
  },
  {
    dataset: 'Qwen-2.5-7B',
    metric: 'pass@10 accuracy ↑',
    detail: 'Scores climb from 0.095 to 0.17 across budget-constrained runs.',
    highlight: '79% relative increase while preserving resource efficiency.'
  }
];
---
<section id="results" class="content-section alt-background">
  <div class="section-container">
    <h2 class="section-title">Benchmark Results</h2>
    <p class="section-description">
      DISC reallocates inference budget toward the most uncertain prefixes, consistently outperforming static token,
      sentence, and single-step decomposition strategies across coding and mathematics benchmarks.
    </p>

    <div class="benchmark-grid">
      {benchmarkCards.map((card) => (
        <article class="benchmark-card">
          <header>
            <h3>{card.dataset}</h3>
            <p class="metric">{card.metric}</p>
          </header>
          <p>{card.detail}</p>
          <p class="highlight">{card.highlight}</p>
        </article>
      ))}
    </div>

    <div class="generality-grid">
      {generalityCards.map((card) => (
        <article class="generality-card">
          <header>
            <h3>{card.dataset}</h3>
            <p class="metric">{card.metric}</p>
          </header>
          <p>{card.detail}</p>
          <p class="highlight">{card.highlight}</p>
        </article>
      ))}
    </div>
  </div>
</section>

<style>
  #results .section-description {
    max-width: 760px;
    margin: 0 auto 2.5rem auto;
    color: #3f4455;
  }

  .benchmark-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 1.5rem;
    margin-bottom: 3rem;
  }

  .benchmark-card {
    background: white;
    border-radius: 16px;
    padding: 1.75rem;
    box-shadow: 0 10px 28px rgba(42, 47, 108, 0.12);
    display: flex;
    flex-direction: column;
    gap: 0.9rem;
  }

  .benchmark-card header h3 {
    margin: 0;
    color: #2a2f6c;
    font-size: 1.25rem;
  }

  .metric {
    margin: 0.25rem 0 0 0;
    color: #647099;
    font-weight: 600;
    font-size: 0.95rem;
  }

  .benchmark-card p {
    margin: 0;
    color: #485065;
    line-height: 1.6;
  }

  .benchmark-card .highlight {
    font-weight: 600;
    color: #1f2752;
  }

  .generality-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 1.5rem;
  }

  .generality-card {
    background: #f1f3f9;
    border-radius: 14px;
    padding: 1.6rem;
    display: flex;
    flex-direction: column;
    gap: 0.85rem;
  }

  .generality-card header {
    margin-bottom: 0.25rem;
  }

  .generality-card h3 {
    margin: 0;
    color: #2a2f6c;
    font-size: 1.15rem;
  }

  .generality-card p {
    margin: 0;
    color: #485065;
    line-height: 1.6;
  }

  .generality-card .highlight {
    font-weight: 600;
    color: #1f2752;
    border-top: 1px dashed rgba(42, 47, 108, 0.25);
    padding-top: 0.75rem;
  }

  @media (max-width: 900px) {
    .benchmark-grid,
    .generality-grid {
      grid-template-columns: repeat(1, minmax(0, 1fr));
    }
  }
</style>
